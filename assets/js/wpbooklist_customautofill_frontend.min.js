jQuery(document).ready(function(o){"use strict";var e,a,i,n,l,c;-1<window.location.href.indexOf("/hoot-vendor-dashboard/product/simple/edit/")&&o("[for=wcv_custom_product_isbn]").append('<input type="button" value="Search for Book" id="wpbooklist-customautofill-button-id" class="wcv-button wpbooklist-customautofill-button"/>'),-1<window.location.href.indexOf("/hoot-vendor-dashboard/product/simple/edit/")&&o("#wcv_custom_product_isbn").on("keyup",function(){var t=o(this).val();-1<t.indexOf("-")&&(t=t.replace(/-/g,"")),10<=t.length?o("#wpbooklist-customautofill-button-id").animate({opacity:"1"},{queue:!1,duration:500,complete:function(){o(this).css({"pointer-events":"all"})}}):o("#wpbooklist-customautofill-button-id").animate({opacity:"0.3"},{queue:!1,duration:500,complete:function(){o(this).css({"pointer-events":"none"})}})}),a=[],c=l=n=i=e="",-1<window.location.href.indexOf("/hoot-vendor-dashboard/product/simple/edit/")&&o(document).on("click","#wpbooklist-customautofill-button-id",function(t){o(".pageloader, .wr-loader-3").css({display:"block"}),e=o("#wcv_custom_product_isbn").val(),a={action:"wpbooklist_customautofill_get_book_action",isbn:e,security:wpbooklistCustomAutofillPhpVariables.adminnonce1},o.ajax({url:ajaxurl,type:"POST",data:a,timeout:0,success:function(t){t=JSON.parse(t),o("#post_title").val(t.title),o("#wcv_custom_product_author").val(t.author),o("#wcv_custom_product_publisher").val(t.publisher),o("#wcv_custom_product_edition").val(t.edition),o("#wcv_custom_product_subject").val(t.category),n=(new DOMParser).parseFromString(t.description,"text/html"),i=(i=n.body.textContent||"").replace(/  /g," "),o("#post_content").val(i),l=t.image_attach_data.file.substring(0,t.image_attach_data.file.lastIndexOf(".")),c=t.image_attach_data.file.substring(t.image_attach_data.file.lastIndexOf(".")+1),o(".wcv-featuredimg").html('<img src="http://hootbookrevival.com/wp-content/uploads/'+l+'-150x150.jpg" alt="" title="'+c+'" style="max-width: 100%;">'),o("#_featured_image_id").val(t.image_attachment_id),o(".pageloader, .wr-loader-3").css({display:"none"})},error:function(t,o,e){console.log(e),console.log(o),console.log(t)}}),t.preventDefault?t.preventDefault():t.returnValue=!1})});