jQuery(document).ready(function(e){"use strict";var o,i,a,s,l,c,u;-1<window.location.href.indexOf("/hoot-vendor-dashboard/product/simple/edit/")&&e(".control").first().append('<div id="wpbooklist-customautofill-html-insertion-wrapper"><input type="submit" value="Search for Book" id="wpbooklist-customautofill-button-id" class="wcv-button wpbooklist-customautofill-button"/></div>'),-1<window.location.href.indexOf("/hoot-vendor-dashboard/product/simple/edit/")&&e("#wcv_custom_product_isbn").on("keyup change paste drop",function(t){var o=this;setTimeout(function(){var t=e(o).val();-1<t.indexOf("-")&&e(o).val(t.replace(/-/g,"")),10<=t.length?e("#wpbooklist-customautofill-button-id").animate({opacity:"1"},{queue:!1,duration:100,complete:function(){e(this).css({"pointer-events":"all"})}}):e("#wpbooklist-customautofill-button-id").animate({opacity:"0.3"},{queue:!1,duration:100,complete:function(){e(this).css({"pointer-events":"none"})}})},0)}),i=[],u=c=l=s=a=o="",-1<window.location.href.indexOf("/hoot-vendor-dashboard/product/simple/edit/")&&e(document).on("click","#wpbooklist-customautofill-button-id",function(t){e("#post_title").val(""),e("#wcv_custom_product_author").val(""),e("#wcv_custom_product_publisher").val(""),e("#wcv_custom_product_edition").val(""),e("#wcv_custom_product_subject").val(""),e("#post_content").val(""),e("#_regular_price").val(""),e(".wcv-featuredimg").empty(),e("#_featured_image_id").val(""),e(".wpbooklist-customautofill-response").animate({opacity:"0"},{queue:!1,duration:500,complete:function(){e(this).remove()}}),e(".pageloader, .wr-loader-3").css({display:"block"}),o=e("#wcv_custom_product_isbn").val(),i={action:"wpbooklist_customautofill_get_book_action",isbn:o,security:wpbooklistCustomAutofillPhpVariables.adminnonce1},e.ajax({url:ajaxurl,type:"POST",data:i,timeout:0,success:function(t){t=JSON.parse(t),console.log(t),u=0!==t?(e("#post_title").val(t.title),e("#wcv_custom_product_author").val(t.author),e("#wcv_custom_product_publisher").val(t.publisher),e("#wcv_custom_product_edition").val(t.edition),e("#wcv_custom_product_subject").val(t.category),null!==t.lowestusedprice&&e("#_regular_price").val(t.lowestusedprice.replace("$","")),s=(new DOMParser).parseFromString(t.description,"text/html"),a=(a=s.body.textContent||"").replace(/  /g," "),e("#post_content").val(a),l=t.image_attach_data.file.substring(0,t.image_attach_data.file.lastIndexOf(".")),c=t.image_attach_data.file.substring(t.image_attach_data.file.lastIndexOf(".")+1),e(".wcv-featuredimg").html('<img src="http://hootbookrevival.com/wp-content/uploads/'+l+'-150x150.jpg" alt="" title="'+c+'" style="max-width: 100%;">'),e("#_featured_image_id").val(t.image_attachment_id),'<p class="wpbooklist-customautofill-response" id="wpbooklist-customautofill-response-success"><span id="wpbooklist-customautofill-response-success-span">Success!</span> Review the Book Information below for accuracy.</p>'):'<p class="wpbooklist-customautofill-response" id="wpbooklist-customautofill-response-fail"><span id="wpbooklist-customautofill-response-fail-span">Uh-Oh!</span> We couldn\'t retrieve information for this title.<br/>Please enter information for this title manually.</p>',e("#wpbooklist-customautofill-html-insertion-wrapper").append(u),e(".pageloader, .wr-loader-3").css({display:"none"})},error:function(t,o,e){console.log(e),console.log(o),console.log(t)}}),t.preventDefault?t.preventDefault():t.returnValue=!1})});